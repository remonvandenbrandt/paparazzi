<!DOCTYPE module SYSTEM "module.dtd">

<module name="object_detection_opencv" dir="object_detection_opencv">
  <doc>
    <description>
      Configuration file to build the object detection module
    </description>
  </doc>
  <settings>
  </settings>

  <header>
    <file name="object_detection.h"/>
  </header>

  <init fun="object_detection_init()"/>

  <periodic fun="object_detection_run()" start="object_detection_start()" stop="object_detection_stop()" autorun="TRUE"/>
  <makefile target="ap">
    <file name="object_detection.c"/>

    <!-- Include the needed Computer Vision files -->
    <define name="modules/object_detection_opencv" type="include"/>
    <file name="image.c" dir="modules/object_detection_opencv/lib/vision"/>
    <file name="v4l2.c" dir="modules/object_detection_opencv/lib/v4l"/>

    <!--<raw> ap.CFLAGS += -Wno-unused-function</raw>-->
    <raw> ap.LDFLAGS += -static</raw>
<!--    <raw> ap.LDFLAGS += -lopencv_contrib</raw>
    <raw> ap.LDFLAGS += -lopencv_stitching</raw>
    <raw> ap.LDFLAGS += -lopencv_nonfree</raw>
    <raw> ap.LDFLAGS += -lopencv_superres</raw>
    <raw> ap.LDFLAGS += -lopencv_ocl</raw>
    <raw> ap.LDFLAGS += -lopencv_ts</raw>
    <raw> ap.LDFLAGS += -lopencv_videostab</raw>
    <raw> ap.LDFLAGS += -lopencv_features2d</raw>-->
    <raw> ap.LDFLAGS += -lopencv_video</raw>
<!--    <raw> ap.LDFLAGS += -lopencv_ml</raw>-->
    <raw> ap.LDFLAGS += -lopencv_highgui</raw>

    <raw> ap.LDFLAGS += -lIlmImf</raw>
    <raw> ap.LDFLAGS += -llibjasper</raw>
    <raw> ap.LDFLAGS += -llibtiff</raw>
    <raw> ap.LDFLAGS += -llibpng</raw>
    <raw> ap.LDFLAGS += -llibjpeg</raw>

    <raw> ap.LDFLAGS += -lopencv_imgproc</raw>
    <raw> ap.LDFLAGS += -lopencv_core</raw>

    <raw> ap.LDFLAGS += -lzlib</raw>
    <raw> ap.LDFLAGS += -lrt</raw>
    <raw> ap.LDFLAGS += -lpthread</raw>
    <raw> ap.LDFLAGS += -lm</raw>
    <raw> ap.LDFLAGS += -ldl</raw>
    <raw> ap.LDFLAGS += -lstdc++</raw>
   
<!-- 
     -lopencv_contrib -lopencv_stitching -lopencv_nonfree -lopencv_superres -lopencv_ocl -lopencv_ts -lopencv_videostab -lopencv_gpu -lopencv_photo -lopencv_objdetect -lopencv_legacy -lopencv_video -lopencv_ml -lopencv_calib3d -lopencv_features2d -lopencv_highgui -L${exec_prefix}/share/OpenCV/3rdparty/lib -lIlmImf -ljasper -ltiff -lpng -ljpeg -lopencv_imgproc -lopencv_flann -lopencv_core -lzlib -lrt -lpthread -lm -ldl -lstdc++
-->




<!--    <raw> ap.LDFLAGS += -lopencv_ml</raw>
    <raw> ap.LDFLAGS += -lopencv_video</raw>
    <raw> ap.LDFLAGS += -lopencv_features2d</raw>
    <raw> ap.LDFLAGS += -lopencv_objdetect</raw>
    <raw> ap.LDFLAGS += -lopencv_legacy</raw>
    <raw> ap.LDFLAGS += -lrt</raw>
    <raw> ap.LDFLAGS += -dl</raw>
    <raw> ap.LDFLAGS += -lm</raw>
    <raw> ap.LDFLAGS += -lzlib</raw>
    <raw> ap.LDFLAGS += -llibpng</raw>
    <raw> ap.LDFLAGS += -llibtiff</raw>
    <raw> ap.LDFLAGS += -llibjpeg</raw>
    <raw> ap.LDFLAGS += -llibjasper</raw>-->

<!--
    
    <raw> ap.CFLAGS += $(shell pkg-config --static --cflags opencv)</raw>
    <raw> ap.LDFLAGS += -static</raw>
    <raw> ap.LDFLAGS += $(shell pkg-config --static --libs opencv)</raw>-->
  </makefile>
  <makefile target="nps">
  </makefile>

</module>
